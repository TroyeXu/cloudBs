{"version":3,"sources":["all.js","fblogin.js"],"names":["dataweather","getweather","WOW","xhr","XMLHttpRequest","open","onload","JSON","parse","this","responseText","city","reText","name","country","list","main","temp","weatherTitle","coord","weather","lon","locationLat","initMap","window","addEventListener","forms","document","querySelector","Array","prototype","filter","call","form","validation","checkValidity","event","preventDefault","classList","add","map","google","maps","Map","getElementById","center","zoom","featureType","elementType","stylers","lightness","visibility","hue","saturation","gamma","weight","invert_lightness","color","InfoWindow","pos","lat","coords","lng","handleLocationError","infoWindow","setPosition","setContent","browserHasGeolocation","navigator","geolocation","getCurrentPosition","position","scroll","scrollTop","$","a","h","setCenter","hj","getCenter","src","_hjSettings","dataLayer","response","status","setElement","click","e","testAPI","target","attr","fbdate","offset","top","animate","targetPos","FB","getLoginStatus","statusChangeCallback","hide","show","fbAsyncInit","init","addClass","xfbml","removeClass","o","t","j","r","q","push","arguments","hjid","hjsv","getElementsByTagName","js","createElement","async","appendChild","fjs","parentNode","insertBefore","gtag","Date","fbemail","fbname","value","checkLoginState","appId","cookie","version","d","s","id","isLoggedIn","console","log","api","error","buildUserData","user","birthday","email"],"mappings":"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","file":"all.js","sourcesContent":["var dataweather;\r\n\r\nnew WOW().init();\r\nfunction getweather() {\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open('get', 'https://api.openweathermap.org/data/2.5/forecast?q=TaiChung,tw&APPID=508dc63241bf70a6ba0747bd62c64639&lang=zh_tw&units=metric', true);\r\n    xhr.send(null);\r\n    xhr.onload = function () {\r\n        // 把json填入變數\r\n        var reText = JSON.parse(this.responseText);\r\n        var city = reText.city.name + \",\" + reText.city.country;\r\n        var weatherTitle = reText.list[0].weather[0].main;\r\n        var temp = reText.list[0].main.temp + \"°\";\r\n        var locationLat = reText.city.coord.lat;\r\n        var locationLon = reText.city.coord.lon;\r\n        dataweather = city + \"/\" + weatherTitle + \"/\" + temp;\r\n        initMap();\r\n    };\r\n\r\n}\r\ngetweather();\r\n\r\n\r\n//驗證\r\n(function () {\r\n    'use strict';\r\n    window.addEventListener('load', function () {\r\n        // Fetch all the forms we want to apply custom Bootstrap validation styles to\r\n        var forms = document.querySelector('.needs-validation');\r\n        // Loop over them and prevent submission\r\n        var validation = Array.prototype.filter.call(forms, function (form) {\r\n            form.addEventListener('submit', function (event) {\r\n                if (form.checkValidity() === false) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                }\r\n                form.classList.add('was-validated');\r\n            }, false);\r\n        });\r\n    }, false);\r\n})();\r\n\r\nfunction initMap() {\r\n    var map = new google.maps.Map(document.getElementById('map'), {\r\n        center: { lat: -34.397, lng: 150.644 },\r\n        zoom: 10,\r\n        styles:\r\n            [\r\n                {\r\n                    \"featureType\": \"all\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": [\r\n                        {\r\n                            \"lightness\": \"42\"\r\n                        },\r\n                        {\r\n                            \"visibility\": \"on\"\r\n                        },\r\n                        {\r\n                            \"hue\": \"#ff0000\"\r\n                        },\r\n                        {\r\n                            \"saturation\": \"-100\"\r\n                        },\r\n                        {\r\n                            \"gamma\": \"0.78\"\r\n                        },\r\n                        {\r\n                            \"weight\": \"0.37\"\r\n                        },\r\n                        {\r\n                            \"invert_lightness\": true\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"administrative\",\r\n                    \"elementType\": \"labels.text.fill\",\r\n                    \"stylers\": [\r\n                        {\r\n                            \"color\": \"#444444\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"landscape\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": [\r\n                        {\r\n                            \"color\": \"#f2f2f2\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"poi\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": [\r\n                        {\r\n                            \"visibility\": \"off\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"road\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": [\r\n                        {\r\n                            \"saturation\": -100\r\n                        },\r\n                        {\r\n                            \"lightness\": 45\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"road.highway\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": [\r\n                        {\r\n                            \"visibility\": \"simplified\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"road.arterial\",\r\n                    \"elementType\": \"labels.icon\",\r\n                    \"stylers\": [\r\n                        {\r\n                            \"visibility\": \"off\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"transit\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": [\r\n                        {\r\n                            \"visibility\": \"off\"\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"featureType\": \"water\",\r\n                    \"elementType\": \"all\",\r\n                    \"stylers\": [\r\n                        {\r\n                            \"color\": \"#3ec7c9\"\r\n                        },\r\n                        {\r\n                            \"visibility\": \"on\"\r\n                        }\r\n                    ]\r\n                }\r\n            ]\r\n    });\r\n    var infoWindow = new google.maps.InfoWindow({ map: map });\r\n\r\n    // Try HTML5 geolocation.\r\n    if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(function (position) {\r\n            var pos = {\r\n                lat: position.coords.latitude,\r\n                lng: position.coords.longitude\r\n            };\r\n\r\n            infoWindow.setPosition(pos);\r\n            infoWindow.setContent(dataweather);\r\n            map.setCenter(pos);\r\n        }, function () {\r\n            handleLocationError(true, infoWindow, map.getCenter());\r\n        });\r\n    } else {\r\n        // Browser doesn't support Geolocation\r\n        handleLocationError(false, infoWindow, map.getCenter());\r\n    }\r\n}\r\n\r\nfunction handleLocationError(browserHasGeolocation, infoWindow, pos) {\r\n    infoWindow.setPosition(pos);\r\n    infoWindow.setContent(browserHasGeolocation ?\r\n        'Error: The Geolocation service failed.' :\r\n        'Error: Your browser doesn\\'t support geolocation.');\r\n}\r\n\r\n\r\n\r\n\r\n//scroll\r\n\r\n\r\n$(document).ready(function () {\r\n    $('.scrollTop').click(function (e) {\r\n        e.preventDefault();\r\n        var target = $(this).attr('href');\r\n        //讀取href\r\n        var targetPos = $(target).offset().top;\r\n        //取處這些id的位置， offset有TOP與left\r\n        $('html, body').animate({ scrollTop: targetPos - 60 }, 1000);\r\n    });\r\n\r\n});\r\n\r\n\r\n\r\n$(window).scroll(function (e) {\r\n    if ($(window).scrollTop() <= 0)\r\n        $('.fb').hide();\r\n    else\r\n        $('.fb').show();\r\n    if ($(window).scrollTop() <= 0)\r\n        $('.navbar').addClass('at_top');\r\n\r\n    else\r\n        $('.navbar').removeClass('at_top');\r\n\r\n});\r\n\r\n\r\n\r\n//分析 hotjar\r\n(function (h, o, t, j, a, r) {\r\n    h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) };\r\n    h._hjSettings = { hjid: 774977, hjsv: 6 };\r\n    a = o.getElementsByTagName('head')[0];\r\n    r = o.createElement('script'); r.async = 1;\r\n    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;\r\n    a.appendChild(r);\r\n})(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');\r\n\r\n//ga分析\r\nwindow.dataLayer = window.dataLayer || [];\r\nfunction gtag() { dataLayer.push(arguments); }\r\ngtag('js', new Date());\r\ngtag('config', 'UA-89388320-2');","var fbdate = document.getElementById('date');\r\nvar fbemail = document.getElementById('email');\r\nvar fbname = document.getElementById('username');\r\nfunction statusChangeCallback(response) {\r\n    if (response.status === 'connected') {\r\n        setElement(true);\r\n        testAPI();\r\n    } else {\r\n        fbemail.value = \"\";\r\n        fbdate.value = \"\";\r\n        fbname.value = \"\";\r\n        setElement(false);\r\n\r\n    }\r\n}\r\n\r\n\r\n// 確認用戶是否已經使用「Facebook 登入」來登入您的應用程式需要兩段程式碼\r\n//它會呼叫 FB.getLoginStatus() 來取得最新的登入狀態\r\nfunction checkLoginState() {\r\n    FB.getLoginStatus(function (response) {\r\n        statusChangeCallback(response);\r\n\r\n    });\r\n}\r\n//基本設定\r\nwindow.fbAsyncInit = function () {\r\n    FB.init({\r\n        appId: '1653516004671630',\r\n        cookie: true,\r\n        xfbml: true,\r\n        version: 'v2.8'\r\n    });\r\n    FB.getLoginStatus(function (response) {\r\n        statusChangeCallback(response);\r\n    });\r\n\r\n};\r\n//這個函式會觸發對 Facebook 的呼叫來取得登入狀態，接著呼叫您的回呼函式來傳回結果。\r\n\r\n\r\n\r\n(function (d, s, id) {\r\n    var js, fjs = d.getElementsByTagName(s)[0];\r\n    if (d.getElementById(id)) { return; }\r\n    js = d.createElement(s); js.id = id;\r\n    js.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n    fjs.parentNode.insertBefore(js, fjs);\r\n}(document, 'script', 'facebook-jssdk'));\r\n\r\n(function (d, s, id) {\r\n    var js, fjs = d.getElementsByTagName(s)[0];\r\n    if (d.getElementById(id)) return;\r\n    js = d.createElement(s); js.id = id;\r\n    js.src = 'https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v2.12';\r\n    fjs.parentNode.insertBefore(js, fjs);\r\n}(document, 'script', 'facebook-jssdk'));\r\n\r\n\r\n\r\nfunction setElement(isLoggedIn) {\r\n    if (isLoggedIn) {\r\n        console.log(isLoggedIn);\r\n    } else {\r\n        console.log(isLoggedIn);\r\n    }\r\n}\r\n\r\n\r\nfunction testAPI() {\r\n    FB.api('/me?fields=name,email,birthday,location', function (response) {\r\n        if (response && !response.error) {\r\n            buildUserData(response);\r\n        }\r\n    })\r\n}\r\n\r\nfunction buildUserData(user) {\r\n    fbdate.value = user.birthday;\r\n    fbemail.value = user.email;\r\n    fbname.value = user.name;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n"]}